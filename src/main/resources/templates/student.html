<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="/web/static/js/jquery-3.6.0.min.js"></script>
    <script src="/web/static/js/public.js"></script>
</head>
<body>
<form>
    <table>
        <tr>
            <td>学号:</td>
            <td><input type="text" id="txtId"></td>
        </tr>
        <tr>
            <td>姓名:</td>
            <td><input type="text" id="txtName"></td>
        </tr>
        <tr>
            <td>班级:</td>
            <td><input type="text" id="txtMyClass"></td>
        </tr>
        <tr><td colspan="2"><button id="btnSave" type="button">保存</button></td></tr>
       <tr><td colspan="2"> <h3>查找</h3></td></tr>

        <tr><td>请输入学生id</td><td><input type="text" id="findid"></td></tr>
        <tr><td colspan="2"><button type="button" id="btnfind">点击查找学生</button></td></tr>
        <tr><hr></tr>
        <tr><td colspan="2"><input id="findtxtid"></td></tr>
        <tr><td colspan="2"><input id="findtxtname"></td></tr>
<tr><td colspan="2"><h3>添加或修改</h3></td></tr>
        <tr><td>学号</td><td><input id="eid"></td></tr>
        <tr><td>姓名</td><td><input id="ename"></td></tr>
        <tr><td>班级编号</td><td><input id="eclass"></td></tr>
        <tr><td colspan="2"><input type="checkbox" id="echeck"><button id="ebtn" type="button">保存</button></td></tr>

    </table>
</form>
<script>
    $(function (){
        $("#btnSave").click(function () {
            var stu =new Object();
            stu.id=$("#txtId").val();
            stu.number=stu.id;
            stu.name=$("#txtName").val();
            stu.myClass=new Object();
            stu.myClass.id=$("#txtMyClass").val();
            doData("student/add",stu,function(data) {
                alert(data.message);
            })
        });
        $("#btnfind").click(function () {
            var con=new Object();
            con.id= $("#findid").val();
          doData("student/findbyid",con,function (data) {
              $("#findtxtid").val(data.obj.id);
              $("#findtxtname").val(data.obj.name);
              alert(data.message);
          })
        })
        $("#ebtn").click(function () {
            var stu=new Object();
            stu.id= $("#eid").val();
            stu.name= $("#ename").val();
            stu.myClass=new Object();
            stu.myClass.id= $("#eclass").val();
           if ($("#echeck").get(0).checked) {
               doData("student/edit", stu, function (data) {
                   alert(data.message);
               })
           }else{
               doData("student/add", stu, function (data) {
                   alert(data.message);
               })
           }
        })

    });
</script>
</body>
</html>